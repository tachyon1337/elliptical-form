!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-controller")):"function"==typeof define&&define.amd?define(["elliptical-controller"],e):t.returnExports=e()}(this,function(){function t(t){setTimeout(function(){e(t)},100)}function e(t){$.each(t,function(){var t=$(this).attr(n?"name":"data-form");void 0!==t&&(t=t.toCamelCase());var e=$(this).attr($.element.custom?"camel-case":"data-camel-case");void 0===e&&(e=!0);var o=$.widget.getOpts(this,e);$(this)[t](o)})}var o=$.elliptical.utils,r=(o._,"[data-form]"),n=!1;if($("html").hasClass("customelements")&&(r="ui-form",n=!0),$.controller("elliptical.form","ui-form",{_initController:function(){this._initForm()},_initForm:function(){},__getTemplateNode:function(){return this.element.find("form")},__render:function(t,e){var o={};if(o.template=this._data.templateId,this.__isModelList()){var r=Object.keys(t)[0];o.model=t[r],o.context=r}else o.model=t;o.parse=!1,this.__renderTemplate(o,e)},_form:function(){return this.element.find("form")},_submit:function(t){var e=this._form();void 0!==t&&t?this.___validateForm(e)&&e.submit():e.submit()},___validateForm:function(t){var e=t.find("[required]").serializeArray(),o=!0;return $.each(e,function(t,e){e.value||o&&(o=!1,alert(e.name+" is required"))}),o},__renderTemplate:function(t,e){var o=this,r=this._data.templateNode;this._renderTemplate(t,function(t,n){var i=n.replace(/<form(.*?)>/g,"").replace(/<\/form>/g,"");r.html(i),o.options.bindHTML5Imports&&o._renderElementTemplateImports(r),e&&e(t,n)})},$render:function(t,e,o){"function"==typeof e&&(o=e,e=void 0);var r={};r.parse=!1,r.template=this._data.templateId,r.model=t,this.__renderTemplate(r,o)}}),$.form=function(t,e,o,r){var i,l=null,p=arguments.length;if(2>p)throw"Error: Form requires a minimum of two parameter types: string name and a singleton for the prototype";if("string"!=typeof t)throw"Error: Form requires name of type string";if(2===p){if("string"==typeof t&&"string"==typeof e)throw"Error: Form requires a minimum of two parameter types: string name and a singleton for the prototype";r=e,i=$.elliptical.form,o=null}else 3===p?"string"==typeof t&&"string"==typeof e?(l=e,r=o,i=$.elliptical.form,o=null):(r=o,o=e):4===p&&(l=e);if(o){var a=[];$.utils.array.isArray(o)?(i=function(){},i._childConstructors=[],o.forEach(function(t){t.prototype.__initFunc&&t.prototype.__initFunc.length>0&&(a=a.concat(t.prototype.__initFunc)),$.extend(i.prototype,t.prototype,$.elliptical.form.prototype),t.prototype._initForm?a.push(t.prototype._initForm):t.prototype._initController?a.push(t.prototype._initController):t.prototype._initElement&&a.push(t.prototype._initElement)}),a.length>0&&(r.__initFunc=a)):(o.prototype._initController?(i=o,i.prototype.__initFunc&&i.prototype.__initFunc.length>0&&(a=a.concat(i.prototype.__initFunc)),a.push(i.prototype._initForm)):(i=function(){},i._childConstructors=[],o.prototype._initController?a.push(o.prototype._initController):o.prototype._initElement&&a.push(o.prototype._initElement),$.extend(i.prototype,o.prototype,$.elliptical.form.prototype)),a.length>0&&(r.__initFunc=a))}if($.widget(t,i,r),n){l||(l=t.replace(".","-"));var m=t.split(".")[1];$.widget.register(m,l,HTMLElement.prototype)}},n)try{for(var i in $.controller)$.form[i]=$.controller[i]}catch(l){}if($(function(){$(document).on("ellipsis.onMutation",function(e,o){var n=o.mutations;n.forEach(function(e){var o=e.addedNodes;if(o.length>0){var n=$(o).selfFind(r);n&&n.length>0&&t(n)}})})}),function(){document.addEventListener("WebComponentsReady",function(){var e=$(document).find(r);e&&e.length>0&&t(e)})}(),$.element.custom)for(var p=$.element.definitions,a=p.length,m=0;a>m;m++)"form"===p[m].name&&p.splice(m,1);return $});