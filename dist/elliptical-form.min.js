!function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("elliptical-controller")):"function"==typeof define&&define.amd?define(["elliptical-controller"],e):t.returnExports=e()}(this,function(){function t(t){$.each(t,function(){var t=$(this).attr(r?"name":"data-form");void 0!==t&&(t=t.toCamelCase());var e=$(this).attr($.element.custom?"camel-case":"data-camel-case");void 0===e&&(e=!0);var o=$.widget.getOpts(this,e);$(this)[t](o)})}var e=$.elliptical.utils,o=(e._,"[data-form]"),r=!1;if($("html").hasClass("customelements")&&(o="ui-form",r=!0),$.controller("elliptical.form","ui-form",{_initController:function(){this._initForm()},_initForm:function(){},__getTemplateNode:function(){return this.element.find("form")},__render:function(t,e){var o={};if(o.template=this._data.templateId,this.__isModelList()){var r=Object.keys(t)[0];o.model=t[r],o.context=r}else o.model=t;o.parse=!1,this.__renderTemplate(o,e)},__renderTemplate:function(t,e){var o=this;this._renderTemplate(t,function(t,r){var n=r.replace(/<form(.*?)>/g,"").replace(/<\/form>/g,"");o._data.templateNode.html(n),e&&e(t,r)})},$render:function(t,e,o){"function"==typeof e&&(o=e,e=void 0);var r={};r.parse=!1,r.template=this._data.templateId,r.model=t,this.__renderTemplate(r,o)}}),$.form=function(t,e,o,n){var i,l=null,p=arguments.length;if(2>p)throw"Error: Form requires a minimum of two parameter types: string name and a singleton for the prototype";if("string"!=typeof t)throw"Error: Form requires name of type string";if(2===p){if("string"==typeof t&&"string"==typeof e)throw"Error: Form requires a minimum of two parameter types: string name and a singleton for the prototype";n=e,i=$.elliptical.form,o=null}else 3===p?"string"==typeof t&&"string"==typeof e?(l=e,n=o,i=$.elliptical.form,o=null):(n=o,o=e):4===p&&(l=e);if(o){var a=[];$.utils.array.isArray(o)?(i=function(){},i._childConstructors=[],o.forEach(function(t){t.prototype.__initFunc&&t.prototype.__initFunc.length>0&&(a=a.concat(t.prototype.__initFunc)),$.extend(i.prototype,t.prototype,$.elliptical.form.prototype),t.prototype._initForm?a.push(t.prototype._initForm):t.prototype._initController?a.push(t.prototype._initController):t.prototype._initElement&&a.push(t.prototype._initElement)}),a.length>0&&(n.__initFunc=a)):(o.prototype._initController?(i=o,i.prototype.__initFunc&&i.prototype.__initFunc.length>0&&(a=a.concat(i.prototype.__initFunc)),a.push(i.prototype._initForm)):(i=function(){},i._childConstructors=[],o.prototype._initController?a.push(o.prototype._initController):o.prototype._initElement&&a.push(o.prototype._initElement),$.extend(i.prototype,o.prototype,$.elliptical.form.prototype)),a.length>0&&(n.__initFunc=a))}if($.widget(t,i,n),r){l||(l=t.replace(".","-"));var m=t.split(".")[1];$.widget.register(m,l,HTMLElement.prototype,!1)}},r)try{for(var n in $.controller)$.form[n]=$.controller[n]}catch(i){}if($(function(){$(document).on("ellipsis.onMutation",function(e,r){var n=r.mutations;n.forEach(function(e){var r=e.addedNodes;if(r.length>0){var n=$(r).selfFind(o);n&&n.length>0&&t(n)}})})}),function(){document.addEventListener("WebComponentsReady",function(){var e=$(document).find(o);e&&e.length>0&&t(e)})}(),$.element.custom)for(var l=$.element.definitions,p=l.length,a=0;p>a;a++)"form"===l[a].name&&l.splice(a,1);return $});